.os-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--os-font-weight-medium);
  line-height: 1;
  white-space: nowrap;
  border-radius: var(--os-border-radius-sm);
  transition: all var(--os-transition-fast) ease-in-out;

  &__wrapper {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  &--sm {
    padding: 2px var(--os-spacing-xs);
    font-size: var(--os-font-size-xs);
    min-height: 16px;
    min-width: 16px;
  }

  &--md {
    padding: 4px var(--os-spacing-sm);
    font-size: var(--os-font-size-sm);
    min-height: 20px;
    min-width: 20px;
  }

  &--lg {
    padding: 6px var(--os-spacing-md);
    font-size: var(--os-font-size-base);
    min-height: 24px;
    min-width: 24px;
  }

  &--xl {
    padding: 8px var(--os-spacing-lg);
    font-size: var(--os-font-size-lg);
    min-height: 32px;
    min-width: 32px;
  }

  &--default {
    background-color: var(--os-color-neutral-100);
    color: var(--os-color-neutral-700);
    border: var(--os-border-width-thin) solid var(--os-color-neutral-200);
  }

  &--primary {
    background-color: var(--os-color-primary-100);
    color: var(--os-color-primary-700);
    border: var(--os-border-width-thin) solid var(--os-color-primary-200);
  }

  &--secondary {
    background-color: var(--os-color-secondary-100);
    color: var(--os-color-secondary-700);
    border: var(--os-border-width-thin) solid var(--os-color-secondary-200);
  }

  &--success {
    background-color: var(--os-color-success-100);
    color: var(--os-color-success-700);
    border: var(--os-border-width-thin) solid var(--os-color-success-200);
  }

  &--warning {
    background-color: var(--os-color-warning-100);
    color: var(--os-color-warning-700);
    border: var(--os-border-width-thin) solid var(--os-color-warning-200);
  }

  &--error {
    background-color: var(--os-color-error-100);
    color: var(--os-color-error-700);
    border: var(--os-border-width-thin) solid var(--os-color-error-200);
  }

  &--info {
    background-color: var(--os-color-info-100);
    color: var(--os-color-info-700);
    border: var(--os-border-width-thin) solid var(--os-color-info-200);
  }

  // Variants específicos para metas
  &--goal-active {
    background-color: var(--os-color-primary-100);
    color: var(--os-color-primary-700);
    border: var(--os-border-width-thin) solid var(--os-color-primary-200);
  }

  &--goal-completed {
    background-color: var(--os-color-success-100);
    color: var(--os-color-success-700);
    border: var(--os-border-width-thin) solid var(--os-color-success-200);
  }

  &--goal-overdue {
    background-color: var(--os-color-warning-100);
    color: var(--os-color-warning-700);
    border: var(--os-border-width-thin) solid var(--os-color-warning-200);
  }

  &--outlined {
    background-color: transparent;

    &.os-badge--default {
      color: var(--os-color-neutral-600);
      border-color: var(--os-color-neutral-300);
    }

    &.os-badge--primary {
      color: var(--os-color-primary-600);
      border-color: var(--os-color-primary-300);
    }

    &.os-badge--secondary {
      color: var(--os-color-secondary-600);
      border-color: var(--os-color-secondary-300);
    }

    &.os-badge--success {
      color: var(--os-color-success-600);
      border-color: var(--os-color-success-300);
    }

    &.os-badge--warning {
      color: var(--os-color-warning-600);
      border-color: var(--os-color-warning-300);
    }

    &.os-badge--error {
      color: var(--os-color-error-600);
      border-color: var(--os-color-error-300);
    }

    &.os-badge--info {
      color: var(--os-color-info-600);
      border-color: var(--os-color-info-300);
    }

    &.os-badge--goal-active {
      color: var(--os-color-primary-600);
      border-color: var(--os-color-primary-300);
    }

    &.os-badge--goal-completed {
      color: var(--os-color-success-600);
      border-color: var(--os-color-success-300);
    }

    &.os-badge--goal-overdue {
      color: var(--os-color-warning-600);
      border-color: var(--os-color-warning-300);
    }
  }

  &--pill {
    border-radius: var(--os-border-radius-full);
  }

  &--dot {
    padding: 0;
    min-width: 8px;
    min-height: 8px;
    border-radius: var(--os-border-radius-full);
    border: none;

    &.os-badge--sm {
      min-width: 6px;
      min-height: 6px;
    }

    &.os-badge--md {
      min-width: 8px;
      min-height: 8px;
    }

    &.os-badge--lg {
      min-width: 10px;
      min-height: 10px;
    }

    &.os-badge--xl {
      min-width: 12px;
      min-height: 12px;
    }
  }

  &--top-right,
  &--top-left,
  &--bottom-right,
  &--bottom-left {
    position: absolute;
    z-index: var(--os-z-sticky);
    transform: translate(50%, -50%);

    &.os-badge--top-right {
      top: 0;
      right: 0;
    }

    &.os-badge--top-left {
      top: 0;
      left: 0;
      transform: translate(-50%, -50%);
    }

    &.os-badge--bottom-right {
      bottom: 0;
      right: 0;
      transform: translate(50%, 50%);
    }

    &.os-badge--bottom-left {
      bottom: 0;
      left: 0;
      transform: translate(-50%, 50%);
    }
  }

  &__text {
    font-weight: var(--os-font-weight-medium);
    line-height: 1;

    &--outlined {
      font-weight: var(--os-font-weight-regular);
    }
  }

  &__dot {
    display: block;
    width: 100%;
    height: 100%;
    border-radius: var(--os-border-radius-full);
  }

  // Animação de entrada
  &--animated {
    animation: os-badge-enter 0.3s ease-out;
  }

  &:hover {
    opacity: 0.9;
    transform: scale(1.05);
  }

  &:focus {
    outline: 2px solid var(--os-color-primary-500);
    outline-offset: 2px;
  }
}

// Animação de entrada
@keyframes os-badge-enter {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@media (max-width: 768px) {
  .os-badge {
    &--sm {
      min-height: 18px;
      min-width: 18px;
    }

    &--md {
      min-height: 22px;
      min-width: 22px;
    }

    &--lg {
      min-height: 26px;
      min-width: 26px;
    }

    &--xl {
      min-height: 30px;
      min-width: 30px;
    }
  }
}

[data-theme='dark'] {
  .os-badge {
    &--default {
      background-color: var(--os-color-neutral-800);
      color: var(--os-color-neutral-200);
      border-color: var(--os-color-neutral-600);
    }

    &--primary {
      background-color: var(--os-color-primary-900);
      color: var(--os-color-primary-100);
      border-color: var(--os-color-primary-700);
    }

    &--secondary {
      background-color: var(--os-color-secondary-900);
      color: var(--os-color-secondary-100);
      border-color: var(--os-color-secondary-700);
    }

    &--success {
      background-color: var(--os-color-success-900);
      color: var(--os-color-success-100);
      border-color: var(--os-color-success-700);
    }

    &--warning {
      background-color: var(--os-color-warning-900);
      color: var(--os-color-warning-100);
      border-color: var(--os-color-warning-700);
    }

    &--error {
      background-color: var(--os-color-error-900);
      color: var(--os-color-error-100);
      border-color: var(--os-color-error-700);
    }

    &--info {
      background-color: var(--os-color-info-900);
      color: var(--os-color-info-100);
      border-color: var(--os-color-info-700);
    }

    &--goal-active {
      background-color: var(--os-color-primary-900);
      color: var(--os-color-primary-100);
      border-color: var(--os-color-primary-700);
    }

    &--goal-completed {
      background-color: var(--os-color-success-900);
      color: var(--os-color-success-100);
      border-color: var(--os-color-success-700);
    }

    &--goal-overdue {
      background-color: var(--os-color-warning-900);
      color: var(--os-color-warning-100);
      border-color: var(--os-color-warning-700);
    }

    &--outlined {
      &.os-badge--default {
        color: var(--os-color-neutral-300);
        border-color: var(--os-color-neutral-500);
      }

      &.os-badge--primary {
        color: var(--os-color-primary-300);
        border-color: var(--os-color-primary-500);
      }

      &.os-badge--secondary {
        color: var(--os-color-secondary-300);
        border-color: var(--os-color-secondary-500);
      }

      &.os-badge--success {
        color: var(--os-color-success-300);
        border-color: var(--os-color-success-500);
      }

      &.os-badge--warning {
        color: var(--os-color-warning-300);
        border-color: var(--os-color-warning-500);
      }

      &.os-badge--error {
        color: var(--os-color-error-300);
        border-color: var(--os-color-error-500);
      }

      &.os-badge--info {
        color: var(--os-color-info-300);
        border-color: var(--os-color-info-500);
      }

      &.os-badge--goal-active {
        color: var(--os-color-primary-300);
        border-color: var(--os-color-primary-500);
      }

      &.os-badge--goal-completed {
        color: var(--os-color-success-300);
        border-color: var(--os-color-success-500);
      }

      &.os-badge--goal-overdue {
        color: var(--os-color-warning-300);
        border-color: var(--os-color-warning-500);
      }
    }
  }
}

@media (prefers-contrast: high) {
  .os-badge {
    &--default {
      border-width: var(--os-border-width-medium);
    }

    &--primary,
    &--secondary,
    &--success,
    &--warning,
    &--error,
    &--info,
    &--goal-active,
    &--goal-completed,
    &--goal-overdue {
      border-width: var(--os-border-width-medium);
    }
  }
}

@media (prefers-reduced-motion: reduce) {
  .os-badge {
    transition: none;

    &--animated {
      animation: none;
    }

    &:hover {
      transform: none;
    }
  }
}
